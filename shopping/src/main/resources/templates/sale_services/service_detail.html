<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="title" content="音特"/>
    <meta name="keywords" content="音特，音特电子，话筒"/>
    <meta name="description" content="音特电子，话筒"/>
    <title>音特电子</title>
    <LINK rel="Bookmark" href="/favicon.ico" >
    <LINK rel="Shortcut Icon" href="/favicon.ico" />
    <link rel="stylesheet" th:href="@{/plugins/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/iconfont.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/theme/default/laydate.css}">
    <link rel="stylesheet" th:href="@{/css/app.css}" type="text/css">
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
    <!-- 通用头部-->
    <header class="header navbar-fixed-top" th:include="/public/_header::header"></header>
    <!-- 内容区-->
    <section class="content">
        <div class="container">
            <!--位置导航-->
            <div class="navAdd">
                <div class="navAdd-block">
                    <a class="navAdd-a" th:href="@{/}">首页</a>
                    <span class="navAdd-dot"></span>
                    <a class="navAdd-a" th:href="@{/user/orders/view}">会员中心</a>
                    <span class="navAdd-dot"></span>
                    <a class="navAdd-a active" th:href="@{/service/listMySaleService}">售后服务</a>
                </div>
            </div>
            <!--个人中心-->
            <!--/*@thymesVar id="saleService" type="com.enter.entity.SaleService"*/-->
            <div class="person">
                <div class="row" th:with="activeState=2">
                    <div class="col-lg-3 col-md-2" th:include="/public/person_data::person_data"></div>
                    <div class="col-lg-9 col-md-10">
                        <div class="myOrder">
                            <div class="orderTitle">
                                <span class="f-24">进度详情</span>
                            </div>
                            <div  th:class="${saleService.state == '1'}? 'serviceDetailBlock failOrder':(${saleService.state == '2'}? 'serviceDetailBlock alreadyOrder':(${saleService.state == '3'}? 'serviceDetailBlock pickOrder':(${saleService.state == '4'}? 'serviceDetailBlock dealOrder':( ${saleService.state == '5'}? 'serviceDetailBlock doneOrder':( 'serviceDetailBlock failOrder')))))">
                                <div class="orderDetailProcess" id="orderStation">
                                    <div class="line">
                                        <div class="redLine51"></div>
                                        <div class="redLine52"></div>
                                        <div class="redLine53"></div>
                                        <div class="redLine54"></div>
                                        <div class="redLine55"></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-20">
                                            <div class="detailOfferOrder">
                                                <div class="detailCircle"></div>
                                                <p>提交审核</p>
                                                <p class="offerTime" th:text="${saleService.submitTime}"></p>
                                            </div>
                                        </div>
                                        <div class="col-20">
                                            <div class="detailFendOrder">
                                                <div class="detailCircle"></div>
                                                <p>审核完成</p>
                                                <p class="offerTime" th:text="${saleService.checkedTime}"></p>
                                            </div>
                                        </div>
                                        <div class="col-20">
                                            <div class="detailDeliverOrder">
                                                <div class="detailCircle"></div>
                                                <p>音特收货</p>
                                                <p class="offerTime" th:text="${saleService.receiveTime}"></p>
                                            </div>
                                        </div>
                                        <div class="col-20">
                                            <div class="detailDoOrder">
                                                <div class="detailCircle"></div>
                                                <p>正在处理</p>
                                                <p class="offerTime" th:text="${saleService.handleTime}"></p>
                                            </div>
                                        </div>
                                        <div class="col-20">
                                            <div class="detailFinishOrder">
                                                <div class="detailCircle"></div>
                                                <p>完成</p>
                                                <p class="offerTime" th:text="${saleService.successTime}"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="orderDetailDo clearfix" >
                                        <div class="detail_state pull-left" th:switch="${saleService.state}">
                                            <p>售后状态：<span class="serviceDetail_state" th:text="${saleService.state == '1'}? '待审核':(${saleService.state == '2'}? '已审核':(${saleService.state == '3'}? '正在处理':(${saleService.state == '4'}? '正在处理':(${saleService.state == '5'}? '已完成':'已关闭'))))">待审核</span> 服务类型：<span class="serviceDetail_type" th:text="${saleService.serviceType}">退货</span></p>
                                            <p th:case="1" class="order_bc service_bc">售后服务正在审核中！</p>
                                            <p th:case="2" class="order_bc service_bc">售后服务审核已经通过，请填写相关的快递信息！</p>
                                            <p th:case="3" class="order_bc service_bc">售后服务正在处理中，请留意售后服务进度！</p>
                                            <p th:case="4" class="order_bc service_bc">售后服务正在处理中，请留意售后服务进度！</p>
                                            <p th:case="5" class="order_bc service_bc">售后服务已完成</p>
                                            <p th:case="6" class="order_bc service_bc">售后服务已取消！</p>
                                        </div>
                                        <div class="orderDetailDo_btns pull-right" th:switch="${saleService.state}">
                                            <div th:case="1">
                                                <a  class="gotoBuy" href="javascript:void(0)" th:onclick="'cancerSaleService('+${saleService.id}+')'" id="js_delete_service">取消服务</a>
                                            </div>
                                            <div th:case="2">
                                                <a class="gotoBuy" href="javascript:void(0)" th:onclick="'cancerSaleService('+${saleService.id}+')'" id="js_delete_service">取消服务</a>
                                                <a class="gotoBuy pull-left" href="delivery_info.html">查看物流</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tableHead orderDetail_tableHead">
                                    <div class="row">
                                        <div class="col-md-5">
                                            <div>商品</div>
                                        </div>
                                        <div class="col-md-3">
                                            <div>包装清单</div>
                                        </div>
                                        <div class="col-md-2">
                                            <div>赠品</div>
                                        </div>
                                        <div class="col-md-2">
                                            <div>提交数量</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tableContent">
                                    <div class="myOrderList">
                                        <div class="row" th:each="trolley:${saleService.orders.trolleys}" th:with="product=${trolley.getProduct()}">
                                            <div class="col-md-4">
                                                <div class="goods orderGoods clearfix">
                                                    <a th:href="'/product/view/id/'+${product.getId()}">
                                                        <div class="goods-img"><img width="90px" th:src="${product.thumbnail3}" alt=""/></div>
                                                        <p class="goods-name" th:text="${product.categoryName+ ' '+product.name}"></p>
                                                        <p class="goods-color" th:text="'颜色：'+${product.color}+' '+${trolley.series}"></p>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="col-md-4 myOrderAccess_border">
                                                <div class="myOrderAccess">
                                                    麦克风×1、底座×1、遥控器×1、电源适配器×1、
                                                    音频线×1、U盘×1、使用手册×1、电池×6
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="myOrderGift"><span class="no_gift"></span></div>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="myOrderQuality" th:text="${trolley.count}"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="myOrderNum">
                                    <span class="orderNumber">退货编号：<span class="order_number" th:text="${saleService.id}"></span></span>
                                    <span >申请时间：<span class="order_time" th:text="${saleService.submitTime}"></span></span>
                                </div>
                                <div class="orderDetail_content" th:switch="${saleService.state}">
                                    <p class="orderDetail_content_t">问题描述
                                        <a th:case="1" class="edit" href="javascript:;" data-toggle="modal" data-target="#orderWordsModal">更新描述</a></p>
                                    <p class="problemType" th:text="${saleService.description}">7天无理由包退</p>
                                    <div class="problemImgs">
                                        <img th:href="@{images/problem-img.jpg}">
                                    </div>
                                </div>
                                <div class="orderDetail_content" id="delivery_door" th:switch="${saleService.state == 1}" >
                                    <div th:case="true">
                                        <p class="orderDetail_content_t"><span class="delivery_method">上门取件</span>
                                            <a class="edit" href="javascript:;" id="changeWay1">更换退回方式</a></p>
                                        <p id="other_delivery">取件时间：<input type="text" id="date" class="calendarInput" th:value="${saleService.submitTime}"><label  for="date" id="calender"><i class="iconfont icon-rili"></i></label></p>
                                    </div>
                                    <div th:case="false">
                                        <p class="orderDetail_content_t"><span class="delivery_method">上门取件</span>
                                        <p >取件时间：<input type="text"  class="calendarInput" th:value="${saleService.submitTime}"></p>
                                    </div>
                                </div>
                                <div class="orderDetail_content" id="delivery_self">
                                    <p class="orderDetail_content_t"><span class="delivery_method">自找快递</span><a class="edit" href="javascript:;" id="changeWay2">更换退回方式</a></p>
                                </div>
                                <div class="orderDetail_content" th:switch="${saleService.state}">
                                    <p class="orderDetail_content_t"><span class="address_t">取件地址</span>
                                        <a th:case="1" class="edit" href="#" id="js_edit" data-toggle="modal" data-target="#addModal">编辑</a></p>
                                    <input hidden="hidden" id="provinceId1" th:value="${saleService.provinceId1}"/>
                                    <input hidden="hidden" id="cityId1" th:value="${saleService.cityId1}"/>
                                    <input hidden="hidden" id="areaId1" th:value="${saleService.areaId1}"/>
                                    <p>收货人：<span class="clientName" id="receiver1"  th:text="${saleService.receiver1}"></span></p>
                                    <p>手机号： <span class="clientNum" id="tel1" th:text="${saleService.tel1}"></span></p>
                                    <p>收货地址：<span class="clientAdd" id="detailAddress1" th:text="${saleService.detailAddress1}"></span></p>
                                </div>
                                <div class="orderDetail_content">
                                    <p class="orderDetail_content_t">审核留言</p>
                                    <p class="checkWord" th:text="${saleService.info}"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </section>

    <!-- footer-->
    <footer id="footer" th:include="/public/_footer::footer">
    </footer>
</div>
<!-- addModal -->
<div class="modal myInfoModal addressModal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <i class="close iconfont icon-close" data-dismiss="modal" aria-label="Close" aria-hidden="true"></i>
                <h4 class="modal-title" id="addModalLabel">添加新地址</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="inputUser" class="col-sm-2 control-label"><span class="redColor">*</span>收货人：</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputUser" th:value="${saleService.receiver1}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputPhone" class="col-sm-2 control-label"><span class="redColor">*</span>手机号码：</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputPhone" th:value="${saleService.tel1}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label"><span class="redColor">*</span>收货地址：</label>
                        <div class="col-sm-10">
                            <div class="address-box clearfix" id="select-area">
                                <select class="form-control" id="province"></select>
                                <select class="form-control" id="city"></select>
                                <select class="form-control" id="area"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputAddDetail" class="col-sm-2 control-label"><span class="redColor">*</span>详细地址：</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputAddDetail" th:value="${saleService.simpleAddress1}">
                        </div>
                    </div>
                    <div class="form-group addModal_form">
                        <div class="col-sm-offset-2 col-sm-10">
                            <div class="checkbox">
                                <input class="check-one check" type="checkbox" id="choose1"/>
                                <label for="choose1"><span></span>设为默认地址</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="button" class="btn-red" data-dismiss="modal" onclick="complete()">完成</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- orderWordsModal -->
<div class="modal myInfoModal addressModal fade" id="orderWordsModal" tabindex="-1" role="dialog" aria-labelledby="orderWordsModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <i class="close iconfont icon-close" data-dismiss="modal" aria-label="Close" aria-hidden="true"></i>
                <h4 class="modal-title" id="orderWordsModalLabel">订单备注</h4>
            </div>
            <div class="modal-body">
                <div id="orderWordsDiv">
                    <form class="">
                        <div class="row">
                            <div class="col-md-12">
                                <textarea rows="5" class="sureOrder-text sureOrder-words" maxlength="200">7天无理由退货</textarea>
                            </div>
                        </div>
                        <div class="uploadImg">
                            <div class="img_div"><img class="default_img" th:href="@{images/problem-img.jpg}" width="80" height="80"></div>
                            <a href="javascript:;" class="a-upload">
                                <input type="file" name="myFile" id="myFile" multiple="multiple" /><i class="iconfont icon-add"></i>
                            </a>
                        </div>
                        <p class="orderDetail_tips">为了更快帮您解决问题，请上传图片（最多可上传5张）</p>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-12">
                                    <button type="button" class="btn-red" data-dismiss="modal">更新描述</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" th:src="@{/plugins/jquery/js/jquery-2.1.3.min.js}"></script>
<script type="text/javascript" th:src="@{/plugins/bootstrap/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/js/app.js}"></script>
<script type="text/javascript" th:src="@{/js/laydate.js}"></script>
<script type="text/javascript" th:src="@{/js/sale_services/service_detail.js}"></script>
<script type="text/javascript" th:src="@{/js/public/fillAddress.js}"></script>
<script type="text/javascript">

</script>
</body>
</html>